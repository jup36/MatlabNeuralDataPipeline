
filePath='/Volumes/RAID2/parkj/NeuralData/js2.0/WR25/110718_LowHighShift';  

cd(filePath)
load('BehVariablesJs.mat', 'jsTime1k', 'p')

%% reaction time
%movKinsPlot(jsTime1k(2).movKins)
[jsTime1k(:).rt]=deal(NaN); 
activeTrs = find([jsTime1k(:).rewarded]==1,1,'first'):find([jsTime1k(:).rewarded]==1,1,'last'); 
hold on; 
for t = 1:length(jsTime1k)
    switch jsTime1k(t).trialType
        case 'sp'
            jsTime1k(t).rt = jsTime1k(t).movKins.pullStart;             
        case 'ps'
            jsTime1k(t).rt = jsTime1k(t).movKins.pushStart; 
        case 'to'
            jsTime1k(t).rt = p.Results.trialTimeout; 
        case 'pmpp'
            jsTime1k(t).rt = jsTime1k(t).movKins.pullStart; 
    end
    if t>= activeTrs(1) && t<= activeTrs(end)
        if jsTime1k(t).rewarded
            plot(jsTime1k(t).trJsReady,1,'+')
        else
        end
    end
end
clearvars t; hold off; 

% detect shift in pullTorque, reachP1



% reach duration 


%% force